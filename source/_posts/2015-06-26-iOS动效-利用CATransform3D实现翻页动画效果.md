---
title: åˆ©ç”¨CATransform3Då®žçŽ°ç¿»é¡µåŠ¨ç”»æ•ˆæžœ
date: 2015-06-26 13:53:00
categories:
- è¡¨-iOSç•Œé¢å¼€å‘åº”ç”¨
tags:
- iOS
- UI
---

> ä»Žäº‹ iOS å¼€å‘å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¹‹å‰ä¸€ç›´å¿™äºŽå·¥ä½œï¼Œå‡ ä¹Žå¾ˆå°‘æœ‰æ—¶é—´å†™ä¸€äº›ä¸œè¥¿æ¥å¯¹è‡ªå·±æŽŒæ¡çš„æŠ€æœ¯è¿›è¡Œä¸€ä¸‹æ€»ç»“ï¼ŒçŽ°åœ¨æƒ³æƒ³ï¼Œæœ‰äº›åŽæ‚”ï¼Œå› ä¸ºä¹‹å‰åœ¨é‡è§é—®é¢˜çš„æ—¶å€™æˆ–è€…å­¦ä¹ æ–°æŠ€æœ¯çš„æ—¶å€™éƒ½æ˜¯åœ¨ç¿»çœ‹ä»–äººçš„åšå®¢æˆ–è€…æŸ¥çœ‹è‹¹æžœçš„å®˜æ–¹æ–‡æ¡£ï¼Œä¸€ç›´æ˜¯ä¸€ä¸ªåœ¨è¡Œä¸šå†…çš„â€œä»·å€¼æ¶ˆè€—è€…â€.
> å¯¹æ­¤ï¼Œæˆ‘ä¹Ÿåšè¿‡æ·±åˆ»çš„åæ€ï¼ŒçŽ°åœ¨ä¸‹å®šå†³å¿ƒï¼Œä»¥è‡ªå·±å¾®è–„çš„åŠ›é‡æ¥è´¡çŒ®ä¸€äº›ä¸œè¥¿ï¼Œä¹Ÿè®¸ä¼šå¯¹ä»–äººæœ‰æ‰€å¸®åŠ©ï¼Œå¸Œæœ›è‡ªå·±ä¸å†æ˜¯ä¸€åâ€œä»·å€¼æ¶ˆè€—è€…â€æˆ–æ˜¯â€œè§‚æœ›è€…â€ï¼Œè½¬å˜ä¸ºä¸€åâ€œä»·å€¼è´¡çŒ®è€…â€æˆ–æ˜¯â€œä»·å€¼ä¼ é€’è€…â€ï¼Œåœ¨æ­¤å‘é‚£äº›ä¸æ–­å‘äº’è”ç½‘è´¡çŒ®çš„äººä»¬è‡´ä»¥å´‡é«˜æ•¬æ„ï¼

### iOS åŠ¨æ•ˆ

![å›¾ä¸ºCityGuideApp,æ¥è‡ªUIä¸­å›½ï¼Œç‰¹æ­¤å£°æ˜Ž](http://upload-images.jianshu.io/upload_images/24274-02cd10da01878d69.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/q/100)

_åœ¨ App çˆ†å‘å¼å¢žé•¿çš„æ—¶ä»£ï¼Œç§»åŠ¨ App çš„ç«žäº‰å·²ä»Žå•çº¯çš„é‡ä¸ŽæŠ€æœ¯ç¨³å®šæ€§çš„ç«žäº‰ï¼Œä¸Šå‡åˆ°ç”¨æˆ·ä½“éªŒä¸ŽæœåŠ¡ç­‰æ›´é«˜å±‚é¢ä¸Šçš„ç«žäº‰ï¼Œè¶Šæ¥è¶Šå¤šçš„å…¬å¸å¼€å§‹æ›´åŠ å¯Œæœ‰â€œäººæ–‡å…³æ€€â€åœ°å…³æ³¨ App ä¸Šçš„ç”¨æˆ·ä½“éªŒï¼Œåˆç†æœ‰æ•ˆçš„åŠ¨æ•ˆæ˜¯æž„å»ºè‰¯å¥½ç”¨æˆ·ä½“éªŒä¸å¯ç¼ºå¤±çš„ä¸€çŽ¯ï¼Œæ°å½“å¥½å¤„çš„åŠ¨æ•ˆå¯ä»¥ä½¿ç”¨æˆ·åœ¨ App ä¸­å¾—åˆ°æ˜Žç¡®çš„äº¤äº’åé¦ˆã€æ„‰æ‚¦çš„ä½¿ç”¨æ„Ÿå—ä»¥åŠåœ¨å¤æ‚åœºæ™¯ä¸‹ä¸æ˜“è¿·å¤±æ–¹å‘ç­‰è¯¸å¤šå¥½å¤„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è°ˆåŠ¨æ•ˆçš„åŽŸå› ã€‚_

ä»ŽæŠ€æœ¯å±‚é¢ä¸Šæ¥è¯´ï¼ŒApple åœ¨ iOS å¹³å°ä¸Šæä¾›äº†ä¾›å¼€å‘è€…ä½¿ç”¨çš„è¯¸å¤šè®¡ç®—æœºå›¾å½¢æŠ€æœ¯ï¼Œè¿™é‡ŒåŒ…æ‹¬äº† UIKit æ¡†æž¶å†…çš„ UIView åŠ¨ç”»æŠ€æœ¯ã€Graphics & Animation æ¡†æž¶å†…çš„ 2D Drawingã€3D Drawing æŠ€æœ¯ã€CoreAnimation æŠ€æœ¯ç­‰ã€‚è¿™äº›ä¸°å¯Œçš„å›¾å½¢ä¸ŽåŠ¨ç”»æŠ€æœ¯æ¡†æž¶æ˜¯ iOS å¹³å°ä¸Šå®žçŽ°å„ç§åŽä¸½åŠ¨æ•ˆçš„åŸºçŸ³ï¼Œç¬¬ä¸‰æ–¹ä¹Ÿæœ‰è¯¸å¦‚ facebook çš„ Pop åŠ¨ç”»å¼•æ“Žï¼Œç”šè‡³æœ‰äº› App ä¼šä½¿ç”¨ OpenGLã€SpriteKitã€Metal ç­‰æ¸¸æˆå¼•æ“Žæ¥åˆ›ä½œå¤æ‚çš„åŠ¨ç”»æ•ˆæžœï¼ŒApple ä¹Ÿåœ¨ WWDC 2015 ä¸­å±•ç¤ºäº† OX 10.11 ä¸Ž iOS9 ä¸­ï¼Œä½¿ç”¨ Metal æ¥é‡å†™ç³»ç»Ÿçº§åˆ«çš„åŠ¨æ•ˆï¼Œä»Žè€Œæå‡ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡åœ¨æœªæ¥ï¼Œè¶Šæ¥è¶Šå¤šçš„ App å¼€å‘ä¼šå¤§é‡ä½¿ç”¨åˆç†çš„åŠ¨æ•ˆæŠ€æœ¯æ¥å®Œå–„ App çš„ç”¨æˆ·ä½“éªŒã€‚

åºŸè¯äº†è¿™ä¹ˆå¤šï¼Œä¸‹é¢å¼€å§‹è®²ç‚¹å®žåœ¨çš„æŠ€æœ¯ä¸œè¥¿ï¼Œè¿™æ¬¡æ¥å®žçŽ°ä»¥ä¸‹åˆ©ç”¨ CATransform3D æ¥åšä¸€ä¸ªç±»ä¼¼ FilpBoard æŠ˜çº¸ç¿»é¡µã€‚

æ•ˆæžœå¦‚ä¸‹ï¼š
é›¨æ»´çš„ iCon å›¾ç‰‡æ˜¯ç”¨ sketch åšçš„ï¼Œæœ‰ç‚¹ä¸‘ï¼Œå¤§å®¶åŒ…æ¶µï¼

![æ¼”ç¤ºgit](https://upload-images.jianshu.io/upload_images/24274-39315d973aeeb536.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/q/100)
![viewDebuggingçš„å…ƒç´ æž„æˆ](https://upload-images.jianshu.io/upload_images/24274-b263cbd5bb75cfe8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/q/100)

æ€è·¯æ¢³ç†

1.  å›¾ç‰‡æœ¬èº«åœ¨ UIView ä¸Šï¼ŒUIView ä¸Šå¸ƒå±€ä¸¤ä¸ª UIImageViewï¼Œåˆ†ä¸ºå·¦å³ä¸¤è¾¹ï¼Œæ¯ä¸ª UIImageView è¿›è¡Œäº†åœ†è§’ mask é®ç½©ï¼ŒUIImageView çš„ image å±žæ€§ä¸ºåˆ‡å‰²çš„ä¸€åŠ imageã€‚

2.  UIView å¢žåŠ  Pan æ‰‹åŠ¿ï¼Œæ‰‹åŠ¿ä½¿å¾—å³è¾¹çš„ UIImageView åš transform å±žæ€§åŠ¨ç”»ï¼Œtransform å±žæ€§ä¸º CATransform3Dï¼Œåšæ²¿ç€ Y è½´çš„ CATransform3DRotation ä»¿å°„å˜æ¢ã€‚

3.  åœ¨ä¸æ–­æ”¹å˜ transform çš„å±žæ€§çš„åŒæ—¶ï¼Œåˆ¤æ–­å³è¾¹ UIImageVIew æ˜¯å¦æ—‹è½¬ç¨‹åº¦ï¼Œä½¿å¾—å·¦å³ä¸¤è¾¹çš„å›¾ç‰‡ä¸Šæ˜¾ç¤ºæ¸å˜é˜´å½±ã€‚

4.  æ—‹è½¬è¶…è¿‡ä¸€åŠçš„æ—¶å€™ï¼Œå°†å³è¾¹çš„ UIImageVIew çš„ image å›¾ç‰‡ï¼Œæ›¿æ¢æˆåŽŸæ¥å›¾ç‰‡åŠ ä¸Šé˜´å½±å·¦å³ç¿»è½¬çš„å›¾ç‰‡ï¼Œå®žçŽ°ç¿»è½¬åŽèƒŒæ™¯å›¾æ˜¯æ¨¡ç³Šçš„èƒŒæ™¯ã€‚

ä»¥ä¸Šå°±æ˜¯ç®€å•çš„æ€è·¯ï¼Œè¿™é‡Œé¢æ¯”è¾ƒæ ¸å¿ƒçš„å°±æ˜¯å³è¾¹çš„ UIImageVIew å¦‚ä½•åš Y è½´çš„ rotation æ—‹è½¬ï¼Œå¹¶ä¸”å¦‚ä½•å®žçŽ°å¸¦æœ‰å·¦è¾¹å°å³è¾¹å¤§çš„è§†å¯Ÿæ•ˆæžœã€‚

ä½¿ç”¨ transform å±žæ€§æ¥åšä»¿å°„å˜æ¢ï¼Œæˆ‘ä»¬éœ€è¦æ¸…æ¥š transform çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼ŒiOS ä¸­åˆ†ä¸º 2D ä¸Ž 3D çš„ä»¿å°„å˜æ¢çŸ©é˜µã€‚

![3Dä»¿å°„å˜æ¢çŸ©é˜µ](https://upload-images.jianshu.io/upload_images/24274-13f57a0c18aae04f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/q/100)

åœ¨ iOS ä¸­ï¼Œlayer å±‚çš„ä½ç½®å˜åŒ–æ˜¯é€šè¿‡å¦‚å›¾æ‰€ç¤ºçš„ä»¿å°„å˜æ¢çŸ©é˜µè®¡ç®—æ¥è¡¨ç¤ºçš„ï¼Œè®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œä¸‰ç»´åæ ‡ç³»å¯ä»¥æè¿°ä¸‰ç»´ç©ºé—´çš„ä½ç½®ï¼ŒiOS å¹³å°ä¹Ÿä¸ä¾‹å¤–ï¼Œåœ¨ CoreAnimation æ¡†æž¶ä¸­ï¼Œlayer å±‚çš„ tranform å±žæ€§å¯ä»¥æ˜¯ CATransform3D ç±»åž‹çš„å››ç»´ä»¿å°„å˜æ¢çŸ©é˜µï¼Œå¹¶ä¸”æä¾›é¢„ç½®å¥½çš„è¿›è¡Œæ—‹è½¬ã€å˜å½¢çš„ä»¿å°„å˜æ¢çŸ©é˜µï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡èŽ·å–æˆ‘ä»¬æƒ³è¦çš„åŠ¨ç”»æ•ˆæžœå®Œæˆä¹‹åŽéœ€è¦çš„ CATransform3D çš„ transformï¼Œå†åŠ ä¸Š CAAnimation çš„å¸®åŠ©ï¼Œå°±å¯ä»¥åšå‡ºä¼˜é›…çš„è¡¥é—´åŠ¨ç”»ã€‚

å¯¹äºŽä¸Šé¢çš„æ —å­ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒéƒ¨åˆ†å°±æ˜¯ï¼Œå³è¾¹çš„ UIImageView æ ¹æ® pan æ‰‹åŠ¿è€Œä¸æ–­æ”¹å˜çš„ transform å±žæ€§ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹:

```Objective-C
-(CATransform3D)getTransForm3DWithAngle:(CGFloat)angle{

CATransform3D transform =CATransform3DIdentity;//èŽ·å–ä¸€ä¸ªæ ‡å‡†é»˜è®¤çš„CATransform3Dä»¿å°„å˜æ¢çŸ©é˜µ

transform.m34=4.5/-2000;//é€è§†æ•ˆæžœ

transform=CATransform3DRotate(transform,angle,0,1,0);//èŽ·å–æ—‹è½¬angleè§’åº¦åŽçš„rotationçŸ©é˜µã€‚

return transform;

}
```

ä¸Šé¢æœ€é‡è¦çš„æ˜¯ m34 è¿™ä¸ªå±žæ€§ï¼ŒCATransform3DRotate èŽ·å–çš„æ—‹è½¬å¦‚æžœä¹‹å‰è”åˆçš„ transform ä¸æ”¯æŒé€è§†ï¼Œé‚£åœ¨ xã€y è½´ä¸Šåšæ—‹è½¬æ˜¯åªæœ‰ frame æ”¾å¤§ç¼©å°çš„å˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯åœ¨æ—‹è½¬çš„æ—¶å€™è¦ä½¿å¾—ç¦»è§†è§’è¿‘çš„åœ°æ–¹æ”¾å¤§ï¼Œç¦»è§†è§’è¿œçš„åœ°æ–¹ç¼©å°ï¼Œå°±æ˜¯æ‰€è°“çš„è§†å·®æ¥å½¢æˆ 3D çš„æ•ˆæžœã€‚

```Objective-C
struct CATransform3D

{

CGFloat m11, m12, m13, m14;

CGFloat m21, m22, m23, m24;

CGFloat m31, m32, m33, m34;

CGFloat m41, m42, m43, m44;

};

//è¿™æ˜¯CATransform3DåŸºæœ¬çš„ç»“æž„ä½“
```

![çŸ©é˜µä¹˜æ³•è®¡ç®—](https://upload-images.jianshu.io/upload_images/24274-10e08261df25b74a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/q/100)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ° m34 å®žé™…ä¸Šå½±å“äº† z è½´æ–¹å‘çš„ translationï¼Œm34= -1/D, é»˜è®¤å€¼æ˜¯ 0ï¼Œæˆ‘ä»¬éœ€è¦å°½å¯èƒ½çš„è®© m34 è¿™ä¸ªå€¼å°½å¯èƒ½å°ï¼Œä½†åˆå¿…é¡»æœ‰æ˜Žæ˜¾çš„è¿œå°è¿‘å¤§çš„æ•ˆæžœã€‚

ä»¥ä¸Šæˆ‘ä»¬åšäº†æ ¹æ®è§’åº¦ï¼ˆangleï¼‰èŽ·å¾— transform çš„ APIï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†åœ¨ UIView ä¸Šçš„ pan æ‰‹åŠ¿è½¬åŒ–ä¸º angleï¼ŒèŽ·å–å®žæ—¶çš„ transform å±žæ€§ï¼Œæ¥åšå±žæ€§åŠ¨ç”»ï¼Œåœ¨æˆ‘çš„ DEMO é‡Œåªæ˜¯å•çº¯çš„è®¾ç½®æ–°çš„ transform å±žæ€§ï¼Œå¦‚æžœå¸Œæœ›åŠ¨ç”»æ›´ç»†è…»ï¼Œå¯ä»¥ä½¿ç”¨ CAAnimation æˆ–è€…æ˜¯ CADisplayLink è¿›è¡Œæ¯ç§’ 60 å¸§çš„åˆ·æ–°ï¼Œä½¿å¾—å½¢å˜æ›´åŠ ç»†è…»ã€‚

```
CGPoint location = [pan locationInView:self];//èŽ·å–åœ¨Viewä¸­çš„location

if(pan.state==UIGestureRecognizerStateBegan) {

    self.initialLocation= location.x;

}//åœ¨æ‰‹åŠ¿å¼€å§‹çš„æ—¶å€™ï¼Œä½¿ç”¨å±žæ€§è®°å½•æ‰‹åŠ¿åœ¨Viewä¸Šçš„Xåæ ‡

if([[self.rightImageView.layervalueForKeyPath:@"transform.rotation.y"]floatValue] > -M_PI_2&&([[self.rightImageView.layervalueForKeyPath:@"transform.rotation.x"]floatValue] !=0)) {

    self.rightBackView.alpha=1;//æ­¤æ—¶ä½¿å¾—æ¨¡ç³Šç¿»è½¬çš„èƒŒæ™¯å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥
    self.rightShadowLayer.opacity=0;//ä½¿å¾—å³è¾¹çš„UIImageViewçš„é˜´å½±é®ç½©éšè—
    CGFloat opacity = (location.x-self.initialLocation)/(CGRectGetWidth(self.bounds)-self.initialLocation);//æ ¹æ®åˆå§‹åŒ–è·ç¦»å’Œæ­¤æ—¶locationçš„å¤§å°é™¤ä»¥ç›¸å¯¹ï¼ˆå®½åº¦-åˆå§‹xåæ ‡ï¼‰ç­‰äºŽä¸€ä¸ªå¯æ­£è´Ÿçš„æ‰‹åŠ¿æ»‘åŠ¨ç¨‹åº¦ï¼Œå¯ç›´æŽ¥ç”¨ä½œè°ƒèŠ‚é˜´å½±çš„é€æ˜Žåº¦
    self.leftShadowLayer.opacity=fabs(opacity)*0.5;

}
//åœ¨å³è¾¹UIImageViewçš„rotation.y>-M_PI_2(è¯´æ˜Žåœ¨åšé¡ºæ—¶é’ˆæ—‹è½¬)å’Œrotation.x!=0(è¯´æ˜Žç›¸å¯¹äºŽåŽŸæ¥ä½ç½®ï¼Œxè½´åšäº†æ—‹è½¬ï¼Œæ­¤æ—¶åœ¨å³è¾¹ç¿»è½¬åˆ°å·¦è¾¹),è‡³äºŽä¸ºä½•æ˜¯è¿™æ ·çš„å‚æ•°åˆ¤æ–­ï¼Œéœ€è¦äº†è§£layerå±‚çš„åæ ‡ç³»ä¸Žæ ‡å‡†ç©ºé—´åæ ‡ç³»çš„å·®åˆ«ã€‚

else if(([[self.rightImageView.layervalueForKeyPath:@"transform.rotation.y"]floatValue] > -M_PI_2)&&(
    [[self.rightImageView.layervalueForKeyPath:@"transform.rotation.y"]floatValue]<0)&&([[self.rightImageView.layervalueForKeyPath:@"transform.rotation.x"]floatValue] ==0))
{
    self.rightBackView.alpha=0;//æ­¤æ—¶å³è¾¹çš„UIImageViewå·²ç»æ—‹è½¬ä½†æ˜¯è¿˜æ²¡æœ‰æ—‹è½¬åˆ°å·¦è¾¹ï¼Œä½¿å¾—èƒŒæ™¯æ¨¡ç³Šå·¦å³é¢ å€’çš„å›¾ç‰‡çš„é€æ˜Žåº¦ä¸º0
    CGFloatopacity = (location.x-self.initialLocation)/(CGRectGetWidth(self.bounds)-self.initialLocation);
    //self.rightShadowLayer.opacity = 0 ;
    self.rightShadowLayer.opacity=fabs(opacity)*0.5;
    self.leftShadowLayer.opacity=fabs(opacity)*0.5;
}
if([selfisLocation:locationinView:self]) {
    CGFloat conversioFactor =M_PI/(CGRectGetWidth(self.bounds)-self.initialLocation);
    self.rightImageView.layer.transform= [selfgetTransForm3DWithAngle:(location.x-self.initialLocation)*conversioFactor];//åœ¨æ‰‹åŠ¿è¿˜åœ¨viewçš„èŒƒå›´å†…ï¼Œé€šè¿‡locationèŽ·å¾—éœ€è¦æ—‹è½¬çš„è§’åº¦çš„ç™¾åˆ†æ¯”ï¼Œç„¶åŽè°ƒç”¨å†™å¥½çš„APIæ¥èŽ·å–transform
}
else{
    pan.enabled=NO;
    pan.enabled=YES;
}
```

åœ¨å®Œæˆ pan æ‰‹åŠ¿çš„ handle ä¹‹åŽï¼Œæˆ‘ä»¬éœ€è¦è§£å†³ä¸€ä¸‹ï¼Œå³è¾¹ UIImageView çš„æ²¿ X=0 çš„ Y è½´è¿›è¡Œæ—‹è½¬çš„é—®é¢˜ã€‚è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä¿®æ”¹å³è¾¹ UIImageView çš„ Layer çš„ Anchor Pointsã€‚

![anchoriPointè¯´æ˜Ž](https://upload-images.jianshu.io/upload_images/24274-74e2d73b70a32fee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240/q/100)

```Objective-C
self.rightImageView.layer.anchorPoint=CGPointMake(0,0.5);//éœ€è¦æ²¿X=0çš„yè½´æ—‹è½¬ï¼Œéœ€è¦ä½¿å¾—anchorPoint=(0,0.5)
self.rightImageView.frame=CGRectMake(CGRectGetMidX(self.bounds),0,CGRectGetWidth(self.bounds)/2,CGRectGetHeight(self.bounds)); //ä¿®æ”¹å®ŒanchorPointä¹‹åŽä¼šå¼•èµ·layerçš„positionçš„å˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°ä¿®æ”¹frameä½¿å¾—layeråœ¨æ­£ç¡®çš„ä½ç½®ä¸Šã€‚æ³¨æ„ä¿®æ”¹çš„å…ˆåŽé¡ºåºï¼Œframeå®žé™…æ˜¯æ²¡æœ‰å€¼çš„ï¼Œæ˜¯æ ¹æ®positionå’ŒanchorPointç®—å‡ºæ¥çš„ï¼Œè¿™ä¸€ç‚¹å¤§å®¶éœ€è¦å‘¨çŸ¥
```

### æ€»ç»“

1.  éœ€è¦æ­£ç¡®è®¾ç½®ä»¿å°„å˜æ¢çš„ transformï¼Œè¿™é‡Œç‰µæ‰¯åˆ°æ—‹è½¬å˜æ¢çš„åæ ‡è½´æ˜¯æ€Žæ ·è®¾ç½®ã€‚

2.  éœ€è¦æ³¨æ„ pan æ‰‹åŠ¿ handle ä¸­çš„æ¢ç®—é—®é¢˜ï¼Œå¦‚ä½•å°†æ‰‹åŠ¿æ»‘åŠ¨ç¨‹åº¦è½¬æ¢ä¸ºæ—‹è½¬è§’åº¦ï¼Œè¿™ä¸ªæ²¡ä»€ä¹ˆç‰¹åˆ«éœ€è¦æ³¨æ„ï¼Œåªèƒ½é€šè¿‡ç»éªŒç§¯ç´¯ã€‚

3.  éœ€è¦æ³¨æ„æ—‹è½¬çš„è§†å·®è®¾ç½®ï¼Œéœ€è¦äº†è§£ 3D ä»¿å°„å˜æ¢çš„çŸ©é˜µè¿ç®—ï¼ŒæŠ“ä½æœ¬è´¨é—®é¢˜ã€‚

4.  éœ€è¦è°ƒèŠ‚è¯¸å¦‚å·¦å³å›¾ç‰‡çš„åœ†è§’ mask è®¾ç½®ï¼Œåœ¨ DEMO æºç ä¸­ï¼Œå¤§å®¶å¯ä»¥æ‰¾åˆ°ä½¿ç”¨ UIBezierPath åšçš„ mask é®ç½© layerï¼Œèƒ½å¤Ÿè®¾ç½®åœ†è§’çš„ä¸ªæ•°å’Œä½ç½®ï¼Œè¿˜æœ‰é˜´å½±çš„è°ƒèŠ‚ï¼Œæ—‹è½¬åˆ°ä¸€å®šè§’åº¦åŽçš„æ¨¡ç³ŠèƒŒæ™¯ï¼Œä»Žè€Œæ¨¡ä»¿çœŸå®žçš„ç‰©ç†åœºæ™¯ï¼Œå…³æ³¨è¿™äº›ç»†èŠ‚æ‰èƒ½å®Œå–„ç”¨æˆ·ä½“éªŒã€‚

æ€»çš„æ¥è¯´ï¼Œè¦åšå‡ºè¿™æ ·çš„äº¤äº’ç±»åž‹çš„åŠ¨æ•ˆï¼Œéœ€è¦å…³æ³¨ iOS å¹³å°ä¸‹å…³äºŽåŠ¨ç”»çš„åŸºæœ¬çŸ¥è¯†å’Œè¿ä½œåŽŸç†ã€‚è‹¹æžœå®˜æ–¹æä¾›å¼ºå¤§çš„æ–‡æ¡£ Library ä¾›å¤§å®¶å­¦ä¹ ï¼Œåœ¨æ­¤ï¼Œæˆ‘ä¹Ÿä»…ä»…æ˜¯å¸Œæœ›å¤§å®¶ä¸è¦å®³æ€•è‹±æ–‡æ–‡æ¡£ï¼Œé˜…è¯»å®˜æ–¹æ–‡æ¡£æ˜¯ä¸€ç§è¿›é˜¶çš„å¿«é€Ÿæ–¹æ³•ã€‚

ä¸‹æ¬¡ï¼Œæˆ‘å°†å±•ç¤ºä¸€ä¸ªä½¿ç”¨ pop åŠ¨ç”»å¼•æ“Žåº“å®žçŽ°çš„å¡ç‰‡å¼è®¾è®¡çš„åŠ¨ç”»ï¼Œè¿™æ–¹é¢ä¸€æ˜¯å¸Œæœ›èƒ½å¤Ÿå’Œæ›´å¤šçš„ UE è®¾è®¡äººå‘˜æ²Ÿé€šï¼Œå› ä¸º pop åŠ¨ç”»ç®€åŒ–äº†å¼€å‘æˆæœ¬ï¼Œä½†å¯¹è®¾è®¡è¦æ±‚æ›´é«˜ï¼Œéœ€è¦è®¾ç½®å‡ºç¬¦åˆåŠ¨æ•ˆç¾Žå­¦çš„åŠ¨ç”»å‚æ•°ï¼Œè€Œä¸”é…åˆ facebook ä¸ºè‹¹æžœçš„ Quartz Composer åŠŸèƒ½æä¾›çš„ origami æ’ä»¶ï¼Œpop åŠ¨ç”»å®žçŽ°çš„ userinterface ä¼šæ›´åŠ å…·æœ‰â€œæƒ…æ€€â€ã€‚åŒæ—¶ï¼Œä¸ªäººè§‰å¾—ï¼ŒApp çš„å¼€å‘ï¼Œæ— è®ºå¯¹äºŽå¼€å‘è€…æˆ–æ˜¯äº§å“æˆ–æ˜¯ UE ç­‰ç­‰ç›¸å…³äººå‘˜æ¥è®²ï¼Œéƒ½æ˜¯ä¸€ä¸ªè¶ŠåŠ ä¸“ä¸šåŒ–çš„äº‹æƒ…ï¼Œè€Œè¿™äº›ä¼˜ç§€çš„å·¥å…·æ˜¯ç”¨æ¥æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆçŽ‡ï¼Œä½†ä¹Ÿä»…ä»…æ˜¯å·¥å…·ï¼Œä»£ç ä¹Ÿæ˜¯ï¼Œè€ŒçœŸæ­£æœ‰ä»·å€¼çš„æ˜¯æˆ‘ä»¬å…±åŒå¯¹ç¾Žå¥½ï¼ˆå®¡ç¾Žï¼‰ã€ç”¨æˆ·ä½“éªŒã€æ»¡è¶³åˆç†è¯‰æ±‚çš„ä¸€è‡´çš„è¿½æ±‚ã€‚

éžå¸¸æ„Ÿè°¢å¤§å®¶ï¼å¸Œæœ›å¤§å®¶å…±åŒè¿›æ­¥ï¼

ç›¸å…³èµ„æ–™:
[Apple Developer Library ï¼šGraphics&Animation](https://developer.apple.com/library/ios/navigation/#section=Topics&topic=Graphics%20%26amp%3B%20Animation)
[DEMO](https://github.com/Neojoke/flippingPage)
å–œæ¬¢çš„ç‚¹ä¸ªèµž ðŸ‘
